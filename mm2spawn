-- UI Pop (Eazvy)
local lib = loadstring(game:HttpGet("https://raw.githubusercontent.com/Eazvy/UILibs/main/Librarys/Pop/Example"))()
local win = lib:Init({
    Title = "MM2 Summer",
    Key = Enum.KeyCode.RightControl,
    Theme = "Dark"
})

-- –°–æ–∑–¥–∞—ë–º –≤–∫–ª–∞–¥–∫—É (Tab)
local farmTab = win:CreateTab("‚öôÔ∏è –ê–≤—Ç–æ—Ñ–∞—Ä–º")

-- TweenService
local TweenService = game:GetService("TweenService")

-- –ò–≥—Ä–æ–∫
local plr = game.Players.LocalPlayer
local character = plr.Character or plr.CharacterAdded:Wait()
local humPart = character:WaitForChild("HumanoidRootPart")

-- –ü–µ—Ä–µ—Ö–≤–∞—Ç –ø—Ä–∏ —Ä–µ—Å–ø–∞–≤–Ω–µ
plr.CharacterAdded:Connect(function(char)
	character = char
	humPart = char:WaitForChild("HumanoidRootPart")
end)

-- –ö–∞—Ä—Ç–∞ —Å –º–æ–Ω–µ—Ç–∞–º–∏
local map
game.Workspace.DescendantAdded:Connect(function(m)
	if m:IsA("Model") and m.Name == "CoinContainer" then
		map = m
	end
end)

-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏
local delay = 0.1
getgenv().farm = false

-- –ü–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª—å —Ñ–∞—Ä–º–∞
farmTab:CreateToggle("BeachBall Farm", function(state)
	getgenv().farm = state
	while getgenv().farm do
		if not map or not map.Parent then
			for _, m in ipairs(game.Workspace:GetDescendants()) do
				if m:IsA("Model") and m.Name == "CoinContainer" then
					map = m
					break
				end
			end
		end

		if map and map.Parent then
			for _, coin in ipairs(map:GetChildren()) do
				if not getgenv().farm then break end
				if coin:IsA("Part") and coin.Name == "Coin_Server" and coin:GetAttribute("CoinID") == "BeachBall" then
					local cv = coin:FindFirstChild("CoinVisual")
					if cv and cv.Transparency ~= 1 then
						if not humPart or not humPart.Parent then
							humPart = character and character:FindFirstChild("HumanoidRootPart")
							if not humPart then break end
						end

						for _, p in pairs(character:GetChildren()) do
							if p:IsA("BasePart") and p.CanCollide then
								p.CanCollide = false
							end
						end

						local goal = {CFrame = coin.CFrame * CFrame.new(0, 6, 0)}
						local dist = (humPart.Position - coin.Position).Magnitude
						local tweenTime = math.clamp(dist / 25, 0.2, 1.2)
						local tween = TweenService:Create(humPart, TweenInfo.new(tweenTime, Enum.EasingStyle.Linear), goal)
						tween:Play()
						tween.Completed:Wait()

						task.wait(delay)
					end
				end
			end
		end

		task.wait(0.5)
	end
end)

-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ –∑–∞–¥–µ—Ä–∂–∫–∏
farmTab:CreateBox("–ó–∞–¥–µ—Ä–∂–∫–∞ (—Å–µ–∫)", function(txt)
	delay = tonumber(txt) or 0.1
end)

-- –ö–Ω–æ–ø–∫–∞ Anti AFK
farmTab:CreateButton("üõ°Ô∏è Anti AFK", function()
	local GC = getconnections or get_signal_cons
	if GC then
		for _,v in pairs(GC(plr.Idled)) do
			if v.Disable then v:Disable() elseif v.Disconnect then v:Disconnect() end
		end
	else
		local vu = cloneref(game:GetService("VirtualUser"))
		plr.Idled:Connect(function()
			vu:CaptureController()
			vu:ClickButton2(Vector2.new())
		end)
	end
end)

-- –õ–µ–π–±–ª –≤–Ω–∏–∑—É
farmTab:CreateLabel("~ t.me/arceusxscripts")
